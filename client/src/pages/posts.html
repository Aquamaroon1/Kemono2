{% extends 'components/shell.html' %}

{% from 'components/card_list.html' import card_list %}
{% from 'components/cards.html' import post_card %}

{% block content %}
  <section class="site-section site-section--posts">
    <header class="site-section__header">
      <h1 class="site-section__heading">Posts</h1>
    </header>
    <div class="paginator" id="paginator-top">
      {% include 'components/paginator.html' %}
      <form
        action="{{ request.path }}"
        method="GET"
        enctype="application/x-www-form-urlencoded"
      >
        <input
          type="text"
          name="q"
          id="q"
          autocomplete="off"
          value="{{ request.args.get('q') if request.args.get('q') }}"
          class="search-input"
          placeholder="search for posts..."
        >
        <input type="submit" style="display: none">
      </form>
    </div>

    <div class="ad-container">
      <iframe width="300" height="250" scrolling="no" frameborder="0" src="https://a.adtng.com/get/10012822?time=1629300404636" allowtransparency="true" marginheight="0" marginwidth="0" name="spot_id_10012822"></iframe>
    </div>
    
    {% call card_list() %}
      {% for post in results %}
        {{ post_card(post) }}
      {% else %}
        <h1 class="subtitle">Nobody here but us chickens!</h1>
        <p class="subtitle">
          There are either no more posts beyond this page, or this user hasn't been imported.
        </p>
      {% endfor %}
    {% endcall %}

    <div class="ad-container">
      <!-- JuicyAds v3.1 -->
      <script type="text/javascript" data-cfasync="false" async src="https://poweredby.jads.co/js/jads.js"></script>
      <ins id="871536" data-width="468" data-height="72"></ins>
      <script type="text/javascript" data-cfasync="false" async>(adsbyjuicy = window.adsbyjuicy || []).push({'adzone':871536});</script>
      <!--JuicyAds END-->
      <br>
      <small>
        <a href="https://manage.juicyads.com/juicysites.php?id=256990">
          [Advertise on Kemono]
        </a>
      </small>
    </div>
    
    <div class="paginator" id="paginator-bottom">
      {% include 'components/paginator.html' %}
    </div>
  </section>
{% endblock %}
